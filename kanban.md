# カンバン

---

## 処理

### `bl_accordion`のスタイル修正

+ 作業範囲：CSS/WordPress

現在はCSS `.bl_accordion_summary::after` の `background-image` で色を指定したSVGを使用している。  
ダークモード用に、色値のみ変えたSVGをもう一つ使っているが、保守性が低い。  
`filter: invert(1);` で検証し、問題なければ差し替える。

### `input`要素の修正

+ 作業範囲：HTML/WordPress

一部の`input`要素で、`name=""` と空欄にしている箇所があるので修正  
（name属性に大文字をつけないよう他も変更している）

## 処理途中

---

## 未処理

### アドレスウィジェットの改修

+ 作業範囲：HTML/CSS

フッター右側のアドレス欄を整備する。

+ SNS欄はユーティリティリンクを使った手法に変更する
+ メールや住所、プライバシーポリシーやサイトマップなどを配置することを想定する

### アドレスウィジェットをWordPressに反映

+ 親：[アドレスウィジェットの改修(HTML)](#アドレスウィジェットの改修)
+ 作業範囲：WordPress

HTMLで作成した内容を基に、WordPressに落とし込む。

+ プライバシーポリシーやサイトマップ等は固定ページで作ることを考慮し、新たにカスタムメニューを作成する
+ メールや住所、SNS等はテーマカスタマイザーで編集できるようにする

### timeタグの読み上げについて調査

+ 作業範囲：HTML/CSS

Voiceover(iOS)で読み上げ時、記事の情報欄 `投稿：2023/07/01` を「投稿コロン2023スラッシュ07スラッシュ01、2023年7月1日」と読み上げている。
コロンを読み上げないようにし、同じ内容を2回繰り返さないようにはできないか？

### カテゴリ・要旨出力制限設定（テーマカスタマイザー）をスライダーからセレクトに

+ 作業範囲：WordPress

現在スライダー（`'type'->'range'`）のコントロールを使っているが、これをセレクトに変更する。
理由は、微調整が必要なほど取りうる値が多くなく、そして現在値がスライダーではわからないため。

### 開発ツールのHTMLをテンプレートパーツにして切り離す

+ 作業範囲：WordPress

開発ツールのHTMLは現在 `footer.php` 内に入っているが、これをテンプレートパーツ化する。
これは最終的には不要になる部分なので、削除しやすい形（例：読み込み前にファイルの存在確認を行う）にしておく。

### `bl_accordion`の修正

+ 作業範囲：HTML/CSS/WordPress

現状は、`summary` タグ内に `a`タグを入れている。  
`summary` のロールはボタンであるので、その中にインタラクティブ要素である `a` が入ることはできない。  
（テキストノードと別にインライン的な要素を入れても、その部分は無視されるらしい）

`summary` 内は純粋にテキストのみとし、下記の諸問題を解決する

+ 親子関係があるものに関しては、`summary`内にリンクテキストを置くのではなく、格納された要素の1番目に置くようにする
+ `div` 直下で `li` を使っている箇所があり、構造的にエラーなので適切な形に修正
+ 上記の修正内容を、WordPressに反映

### `js_pageTop`の改修

+ 作業範囲：HTML/CSS/Javascript/WordPress

現在は Javascript で `Opacity` を調整することで、一定のマウススクロールを行わないと見えなくしている。  
これは実際には存在し触れてしまう状態なので、何かしらの方法で対処する。

1. `hidden` 属性を利用する？
2. JavaScriptでなく、CSSで表示/非表示のアニメーションを表現（`Keyframe` もしくは `transition`）
3. `disabled` 属性を利用し、スタイルで `display: none;` を設定

### template

+ 親：[txt](#アドレスウィジェットの改修)
+ 作業範囲：HTML/CSS/Javascript/WordPress

作業内容

---

## 保留・構想

### ブロックスキップ

+ 作業範囲：HTML

Voiceover(iOS)使用時、ブロックスキップを使用しようとリンクを踏むと、何故かヘッダーに移動してしまう。
フォーカス可能な要素でないからなのか、原因が特定できていない状態。Web上で関連する情報を調べていく。

### ブロックエディタによる記事データとカラーモード

構想の1つとしては、対象となる要素内の `color` と`backgrond-color` からコントラスト比を算出し、
コントラスト比が低い場合には適切な色へ変更するよう、Javascript で機能を作ること。

厳密に行くなら、文字サイズの大小や、ボーダーの有無など、様々な状況が考えられる。

実装例はネット上でいくつか見つけられるが、「リンクは青」「警告は赤」といった色情報は残したいので、
例えば 5色＋白黒くらいの色数で枠を作り、それぞれに複数の明度を用意し、そこから選んでいく方法とかどうだろう？

ただ、これを作る理由としては「カラーモードの切り替えで `body` 要素の `background` が変わることで、文字が見えなくなってしまう」こと
である以上、それに寄らない要因（例えばブロック自体に背景色を設定しているもの）まで変えるのは良くないと思う。

## 除外

## 処理済

### ダイアログのスタイル修正

+ 作業範囲：CSS/WordPress

`.ly_dialog *:first-child{}` と その前後のスタイリングについて、子孫セレクタでなく子セレクタが正しいと思われる。
あの辺りをもう一度チェックし、修正する。

### カードのスタイル修正

+ 作業範囲：CSS/WordPress

`.bl_card` に `position` があるのは、試作の中で入れたものであり、現在は不要のはず。
確認し、不要なスタイルは削除する。

### Pages上のブロックスキップを修正

+ 作業範囲：HTML

WordPressでは条件分岐でブロックスキップの要素を調整しているが、HTML側はそれができないためリンク先を持たない要素が存在している。
各ページのブロックスキップを確認し、不要なリンク要素はコメント化しておく。

### 投稿ページの記事情報欄に

+ 作業範囲：HTML/WordPress

カードで更新日を扱うように変えたので、投稿ページも同じように変更する。
変更する場所は `.bl_postData` の要素。

作業における追記

+ 更新日に関してはリンクを付与しない（投稿日と違い、更新月のアーカイブを採用していないため）
+ そのため、構造が `a`タグを挟むか `time`タグのみになるかの違いが生じた
+ `bl_postData` はタグ、カテゴリにも使用しており、細かな設定は設計上よろしくないと判断
+ いっそ共通化できるのではと考え、`bl_postData_name`, `bl_postData_values` の使い方を統一した
+ そのため `bl_postData_value` の追加等、CSSの設計を一部変更した
+ HTML上で確認し、問題なかったため、WordPressにも反映
+ この際、`the_category` と `the_tags` で書き方が大きく違っていたため、改修しやすいようにコードを変更している

### 検索件数の表示

+ 作業範囲：HTML/CSS

検索ページの `「＊＊＊」の検索結果` の欄に、何件ヒットしたかの情報を追加する。

### 検索件数機能をWordPressに反映

+ 親：[検索件数の表示(HTML)](#検索件数の表示)
+ 作業範囲：WordPress

HTMLで作成した内容を、WordPress側に落とし込む

### FontSizeChangerの改修

+ 作業範囲：Javascript/WordPress

`sessionStorage` を使い、フォントサイズの設定情報をセッション中に維持するようにする。

### コンポーネント集の「記事情報」を更新

+ 親：[投稿ページの記事情報欄に](#投稿ページの記事情報欄に)
+ 作業範囲：HTML

`page.html` にあるコンポーネント集、そこの記事情報欄の箇所が更新されていないので、更新する。

### HTML構造の修正（`div`）

+ 作業範囲：HTML/WordPress

`bl_debToolBox_utils` の `div`タグが閉じられていないため構成がおかしくなっている部分を修正

### `js_pageTop`のスタイル微修正

+ 作業範囲：CSS/WordPress

ホバーやメディアクエリのスタイルが前の状態のまま（`#pagetop`）なので、正しい形に修正
